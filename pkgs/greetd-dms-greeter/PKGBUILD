# Maintainer: Hec <hec@heccraft.com>

pkgname=greetd-dms-greeter
pkgver=0.6.2
pkgrel=1
pkgdesc='DankMaterialShell greeter for greetd'
arch=('x86_64' 'aarch64')
url='https://github.com/AvengeMedia/DankMaterialShell'
license=('GPL-3.0-only')
depends=(
  'greetd'
  'quickshell'
)
optdepends=(
  'niri: Niri compositor support'
  'hyprland: Hyprland compositor support'
  'sway: Sway compositor support'
)
backup=('etc/greetd/config.toml')
install=greetd-dms-greeter.install
source=("https://github.com/AvengeMedia/DankMaterialShell/releases/download/v$pkgver/dms-qml.tar.gz")
sha256sums=('28d6b469d24c20846586b6500b1ade33ced45906b7265a6ed9b1629d68732cd0')

package() {
  install -dm755 "$pkgdir/usr/share/quickshell/dms-greeter"
  cp -r ./* "$pkgdir/usr/share/quickshell/dms-greeter/"

  install -Dm755 "Modules/Greetd/assets/dms-greeter" "$pkgdir/usr/bin/dms-greeter"

  install -Dm644 "Modules/Greetd/README.md" "$pkgdir/usr/share/doc/dms-greeter/README.md"

  install -dm750 "$pkgdir/var/cache/dms-greeter"
}
